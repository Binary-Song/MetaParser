.. _api_rules:
 
语言规则
==========

语言的规则文件经过解析器处理后得到一个语言规则对象Rules。在Rules对象中，所有的符号均被给予id，之后的操作只需对id进行处理。当然，Rules对象也提供了必要的信息以便将id重新转换回符号名。

语言的符号包括终结符和非终结符，符号的id是一个32位整数。

- 正的id表示非终结符；
- 负的id表示终结符；
- id为0表示“空”，空既不属于非终结符也不属于终结符。

id的绝对值越小，表示符号越先被定义。对于终结符EOF， InputFileResolver 会在解析规则文件前，自动定义EOF（“文件结束”）符号。 Lexer 会在词法分析时自动将它加入到单词序列末尾，因此 **-1是EOF的id** 。对于非终结符“起始符号”， InputFileResolver 规定第一条产生式的左部是起始符号，且一个语言至少有一条产生式，因此 **1是起始符号的id** 。

.. doxygenfile:: rules.hpp 

